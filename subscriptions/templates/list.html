{% extends 'base.html' %} 
{% url 'subscription_form' as add_url %}
{% url 'subscription_edit' as edit_url %}

{% block content %}
     <!-- Show message if there is any-->
     {% for message in messages %}
     <div style="background-color:rgb(137, 225, 121)" width="100">
         {{ message | safe }}
     </div>
     {% endfor %}
    <h5>Subscription List</h5>
    {% if not subscriptions %}
    <p>You have no subscriptions !!</p>
    {% else %}
    <table border="1">
        <thead>
            <tr>
                <th>Name</th>
                <th>Price</th>
                <th>Category</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for subscription in subscriptions %}
                <tr>
                    <td>{{ subscription.service.name }}</td>
                    <td>{{ subscription.monthly_price }}</td>
                    <td>{{ subscription.service.category.name }}</td>
                    <td><a href="{% url 'subscription_edit' subscription.id %}">Edit</a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}
    <p>
        <a href="{% url 'subscription_form' %}">Add subscription</a>
    </p>
{% endblock content %}
